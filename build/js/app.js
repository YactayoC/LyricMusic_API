import{validation}from"./validationForm.js";const form=document.getElementById("form"),artist=document.getElementById("artist"),music=document.getElementById("music"),letter=document.getElementById("letter"),title=document.getElementById("title"),result=document.querySelector(".search__result"),divSpinner=document.createElement("div");function addEventListeners(){form.addEventListener("submit",search)}function search(e){e.preventDefault(),validation(artist.value,music.value),consultAPI(artist.value.toLowerCase(),music.value.toLowerCase()),form.reset()}async function consultAPI(e,t){const n=`https://api.lyrics.ovh/v1/${e}/${t}`;divSpinner.style.display="block",spinner(),title.classList.add("d-none"),letter.textContent="";try{const i=await fetch(n),s=await i.json();if("No lyrics found"===s.error)return title.classList.remove("d-none"),title.textContent=`${s.error}`,void(divSpinner.style.display="none");divSpinner.style.display="none",letter.textContent=s.lyrics,title.classList.remove("d-none"),title.textContent=`Results for ${t} - ${e}`}catch(e){divSpinner.style.display="none"}}function spinner(){divSpinner.innerHTML='\n    <div class="spinner">\n        <div class="bounce1"></div>\n        <div class="bounce2"></div>\n        <div class="bounce3"></div>\n    </div>\n    ',result.appendChild(divSpinner)}addEventListeners();